%YAML 1.1
---
$schema: "http://stsci.edu/schemas/yaml-schema/draft-01"
id: "http://stsci.edu/schemas/asdf/fits/fits-1.2.0"
title: >
  A FITS file inside of an ASDF file.
description: |
  This schema is useful for distributing ASDF files that can
  automatically be converted to FITS files by specifying the exact
  content of the resulting FITS file.

  Not all kinds of data in FITS are directly representable in ASDF.
  For example, applying an offset and scale to the data using the
  `BZERO` and `BSCALE` keywords.  In these cases, it will not be
  possible to store the data in the native format from FITS and also
  be accessible in its proper form in the ASDF file.

  Only image and binary table extensions are supported.

type: array
items:
  description: >
    Each item represents a single header/data unit (HDU).
  type: object
  properties:
    header:
      description: >
        A list of the keyword/value/comment triples from the header,
        in the order they appear in the FITS file.
      type: array
      items:
        type: array
        minItems: 0
        maxItems: 3
        items:
          - description: "The keyword."
            type: string
            maxLength: 8
            pattern: "[A-Z0-9]*"
          - description: "The value."
            anyOf:
              - type: string
                maxLength: 60
              - type: number
              - type: boolean
          - description: "The comment."
            type: string
            maxLength: 60
    data:
      description: "The data part of the HDU."
      anyOf:
        - tag: "tag:stsci.edu:asdf/core/ndarray-1.*"
        - tag: "tag:stsci.edu:asdf/table/table-1.*"
        - type: "null"
      default: null
  required: [header]
  additionalProperties: false
...
